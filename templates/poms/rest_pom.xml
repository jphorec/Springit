<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">

    <modelVersion>4.0.0</modelVersion>
    <artifactId>{{.Company}}-{{.ProjectName}}-{{.CurrentDirectory}}</artifactId>
    <packaging>war</packaging>
    <name>The {{.Company}} {{.ProjectName}} - {{.Resource}} - {{.CurrentDirectory}}</name>

    <parent>
      <groupId>com.{{.Company}}.{{.ProjectName}}</groupId>
      <artifactId>{{.ProjectName}}-parent</artifactId>
      <version>1.0.1-SNAPSHOT</version>
        <relativePath>../../</relativePath>
    </parent>

    <properties>
       <start-class>com.{{.Company}}.{{.ProjectName}}.Application</start-class>
   </properties>

    <dependencies>
        <!-- Project Dependencies -->
            <dependency>
                <groupId>com.{{.Company}}.{{.ProjectName}}</groupId>
                <artifactId>{{.Company}}-{{.ProjectName}}-common</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>com.{{.Company}}.{{.ProjectName}}</groupId>
                <artifactId>{{.Company}}-{{.ProjectName}}-domain</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>com.{{.Company}}.{{.ProjectName}}</groupId>
                <artifactId>{{.Company}}-{{.ProjectName}}-repository</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>com.{{.Company}}.{{.ProjectName}}</groupId>
                <artifactId>{{.Company}}-{{.ProjectName}}-service</artifactId>
                <version>${project.version}</version>
            </dependency>
            <!-- External Dependencies -->
             <dependency>
                 <groupId>org.springframework.hateoas</groupId>
                 <artifactId>spring-hateoas</artifactId>
             </dependency>
             <dependency>
                 <groupId>org.springframework.data</groupId>
                 <artifactId>spring-data-jpa</artifactId>
             </dependency>
             <dependency>
                 <groupId>org.hibernate.javax.persistence</groupId>
                 <artifactId>hibernate-jpa-2.1-api</artifactId>
             </dependency>
             <dependency>
                 <groupId>com.fasterxml.jackson.core</groupId>
                 <artifactId>jackson-annotations</artifactId>
             </dependency>
             <dependency>
                 <groupId>org.springframework.boot</groupId>
                 <artifactId>spring-boot-starter-data-rest</artifactId>
             </dependency>
             <dependency>
                 <groupId>org.springframework.boot</groupId>
                 <artifactId>spring-boot-starter-data-rest</artifactId>
             </dependency>
             <dependency>
                 <groupId>org.springframework.data</groupId>
                 <artifactId>spring-data-commons</artifactId>
             </dependency>

             <dependency>
                 <groupId>org.springframework.data</groupId>
                 <artifactId>spring-data-rest-webmvc</artifactId>
             </dependency>
             <dependency>
                 <groupId>org.springframework.data</groupId>
                 <artifactId>spring-data-rest-hal-browser</artifactId>
             </dependency>

             <dependency>
                 <groupId>org.springframework.boot</groupId>
                 <artifactId>spring-boot-starter-test</artifactId>
             </dependency>
             <dependency>
                 <groupId>org.springframework.restdocs</groupId>
                 <artifactId>spring-restdocs-mockmvc</artifactId>
             </dependency>
             <dependency>
                 <groupId>commons-io</groupId>
                 <artifactId>commons-io</artifactId>
             </dependency>
             <dependency>
                 <groupId>org.projectlombok</groupId>
                 <artifactId>lombok</artifactId>
                 <version>1.16.6</version>
             </dependency>
    </dependencies>
    <build>
          <!-- Avoid annoying eclipse warnings -->
          <pluginManagement>
              <plugins>
                  <plugin>
                      <groupId>org.eclipse.m2e</groupId>
                      <artifactId>lifecycle-mapping</artifactId>
                      <version>1.0.0</version>
                      <configuration>
                          <lifecycleMappingMetadata>
                              <pluginExecutions>
                                  <pluginExecution>
                                      <pluginExecutionFilter>
                                          <groupId>org.apache.maven.plugins</groupId>
                                          <artifactId>maven-war-plugin</artifactId>
                                          <versionRange>${maven-war-plugin.version}</versionRange>
                                          <goals>
                                              <goal>inplace</goal>
                                              <goal>exploded</goal>
                                              <goal>manifest</goal>
                                          </goals>
                                      </pluginExecutionFilter>
                                      <action>
                                          <ignore />
                                      </action>
                                  </pluginExecution>
                              </pluginExecutions>
                          </lifecycleMappingMetadata>
                      </configuration>
                  </plugin>
              </plugins>
          </pluginManagement>
          <plugins>
              <plugin>
                  <groupId>org.apache.maven.plugins</groupId>
                  <artifactId>maven-compiler-plugin</artifactId>

                  <executions>
                      <!-- Must override default to not include -Werror as using @PropertySources causes a java compilation warning -->
                      <execution>
                          <id>default-compile</id>
                          <phase>compile</phase>
                          <configuration>
                              <compilerArgs>
                                  <arg>-Xlint:all</arg>
                                  <arg>-Xlint:-path</arg>
                              </compilerArgs>
                              <showWarnings>true</showWarnings>
                              <showDeprecation>true</showDeprecation>
                          </configuration>
                      </execution>
                  </executions>
              </plugin>
              <!-- ========Rest Doc for API documentation -->
              <plugin>
                  <groupId>org.apache.maven.plugins</groupId>
                  <artifactId>maven-surefire-plugin</artifactId>
                  <configuration>
                      <includes>
                          <include>**/*Documentation.java</include>
                      </includes>
                      <systemPropertyVariables>
                          <org.springframework.restdocs.outputDir>${project.build.directory}/generated-snippets</org.springframework.restdocs.outputDir>
                      </systemPropertyVariables>
                  </configuration>
              </plugin>
              <plugin>
                  <groupId>org.asciidoctor</groupId>
                  <artifactId>asciidoctor-maven-plugin</artifactId>
                  <version>1.5.2</version>
                  <executions>
                      <execution>
                          <id>generate-docs</id>
                          <phase>prepare-package</phase>
                          <goals>
                              <goal>process-asciidoc</goal>
                          </goals>
                          <configuration>
                              <backend>html</backend>
                              <doctype>book</doctype>
                              <attributes>
                                  <generated>${project.build.directory}/generated-snippets</generated>
                              </attributes>
                          </configuration>
                      </execution>
                  </executions>
              </plugin>
              <plugin>
                  <artifactId>maven-resources-plugin</artifactId>
                  <version>2.7</version>
                  <executions>
                      <execution>
                          <id>copy-schema-resources</id>
                          <phase>generate-test-resources</phase>
                          <goals>
                              <goal>copy-resources</goal>
                          </goals>
                          <configuration>
                              <outputDirectory>${project.build.directory}/generated-snippets</outputDirectory>
                              <resources>
                                  <resource>
                                      <directory>${project.build.directory}/resources/schema/v1</directory>
                                  </resource>
                              </resources>
                          </configuration>
                      </execution>
                      <execution>
                          <id>copy-rest-doc</id>
                          <phase>prepare-package</phase>
                          <goals>
                              <goal>copy-resources</goal>
                          </goals>
                          <configuration>
                              <outputDirectory>${project.build.directory}/classes/static</outputDirectory>
                              <resources>
                                  <resource>
                                      <directory>${project.build.directory}/generated-docs</directory>
                                  </resource>
                              </resources>
                          </configuration>
                      </execution>
                  </executions>
              </plugin>
              <plugin>
                  <groupId>org.springframework.boot</groupId>
                  <artifactId>spring-boot-maven-plugin</artifactId>
              </plugin>
              <plugin>
                  <groupId>org.apache.maven.plugins</groupId>
                  <artifactId>maven-war-plugin</artifactId>
              </plugin>
              <plugin>
                  <groupId>org.codehaus.mojo</groupId>
                  <artifactId>versions-maven-plugin</artifactId>
                  <configuration>
                      <rulesUri>file://${project.basedir}/..//../mvn-version-rules.xml</rulesUri>
                  </configuration>
              </plugin>
          </plugins>
      </build>
</project>
